<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-dark bg-dark px-3">
<span class="navbar-brand">Student Management</span>
<a href="/logout" class="btn btn-danger btn-sm">Logout</a>
</nav>

<div class="container mt-4">
    <div class="row mb-4">

    <div class="col-md-4">
        <div class="card shadow p-3 text-center">
            <h5>Total Students</h5>
            <h2 class="text-primary">{{ total }}</h2>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow p-3 text-center">
            <h5>Departments</h5>
            <h2 class="text-success">{{ departments }}</h2>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow p-3 text-center">
            <h5>Final Year</h5>
            <h2 class="text-warning">{{ final_year }}</h2>
        </div>
    </div>

</div>


<form action="/search" class="mb-3">
<input class="form-control" name="q" placeholder="Search">
</form>

<a href="/add" class="btn btn-primary mb-2">Add Student</a>
<a href="/predict" class="btn btn-success mb-2">ML Prediction</a>

<table class="table table-bordered bg-white">
<tr>
<th>Name</th><th>Roll</th><th>Dept</th><th>Year</th><th>Action</th>
</tr>
{% for s in students %}
<tr>
<td>{{s.name}}</td>
<td>{{s.roll_no}}</td>
<td>{{s.department}}</td>
<td>{{s.year}}</td>
<td>
<a href="/edit/{{s.id}}" class="btn btn-warning btn-sm">Edit</a>
<a href="/delete/{{s.id}}" class="btn btn-danger btn-sm">Delete</a>
</td>
</tr>
{% endfor %}
</table>

</div>
</body>
</html>
